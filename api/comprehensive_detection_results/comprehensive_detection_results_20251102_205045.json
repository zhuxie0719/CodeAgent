{
  "detection_type": "comprehensive",
  "timestamp": "2025-11-02T20:49:09.609834",
  "zip_file": "C:\\Users\\Ding\\AppData\\Local\\Temp\\tmptp8cex1e.zip",
  "analysis_options": {
    "static_analysis": true,
    "dynamic_monitoring": true,
    "runtime_analysis": true,
    "enable_dynamic_detection": true,
    "enable_flask_specific_tests": true,
    "enable_server_testing": true,
    "enable_web_app_test": true
  },
  "extracted_path": "temp_extract\\project_20251102_204909",
  "files": [
    "flask_simple_test\\API_TEST_EXAMPLES.md",
    "flask_simple_test\\app.py",
    "flask_simple_test\\BUG_CHECKLIST.md",
    "flask_simple_test\\flask-2.0.0.zip",
    "flask_simple_test\\README.md",
    "flask_simple_test\\requirements.txt",
    "flask_simple_test\\START_HERE.md",
    "flask_simple_test\\上传指南.md",
    "flask_simple_test\\使用说明.txt"
  ],
  "static_analysis": {
    "success": true,
    "analysis_type": "enhanced_static_analysis",
    "project_path": "temp_extract\\project_20251102_204909",
    "files_analyzed": 1,
    "python_files_analyzed": 1,
    "other_language_files_analyzed": 0,
    "issues_found": 0,
    "issues": [],
    "project_structure": {
      "project_type": "flask",
      "main_files": [
        "flask_simple_test\\app.py"
      ],
      "config_files": [],
      "test_files": [
        "flask_simple_test\\API_TEST_EXAMPLES.md"
      ],
      "total_files": 11
    },
    "code_quality": {
      "total_files": 1,
      "total_lines": 182,
      "python_files": 1,
      "issues": [
        {
          "file": "flask_simple_test\\app.py",
          "line": 18,
          "type": "indentation",
          "severity": "warning",
          "message": "缩进不一致"
        },
        {
          "file": "flask_simple_test\\app.py",
          "line": 46,
          "type": "indentation",
          "severity": "warning",
          "message": "缩进不一致"
        }
      ]
    },
    "dependencies": {
      "requirements_files": [
        "flask_simple_test\\requirements.txt"
      ],
      "imports": [
        "from flask import Flask, g, jsonify, send_file, send_from_directory, Blueprint, request, session",
        "import decimal",
        "import functools",
        "from typing import NamedTuple",
        "from flask import after_this_request",
        "import os"
      ],
      "external_packages": [
        "flask",
        "typing"
      ]
    },
    "ai_summary": {
      "success": true,
      "summary": "项目包含 0 个文件，发现 0 个问题",
      "recommendations": [
        "建议定期进行代码审查",
        "考虑使用类型提示提高代码质量",
        "添加单元测试覆盖核心功能"
      ]
    },
    "multi_language_analysis": {
      "python_issues": 0,
      "ai_issues": 0,
      "supported_languages": []
    },
    "statistics": {
      "issues_by_severity": {},
      "issues_by_type": {},
      "issues_by_tool": {},
      "total_files": 11,
      "total_lines": 0,
      "average_complexity": 0,
      "maintainability_score": 0
    },
    "summary": {
      "error_count": 0,
      "warning_count": 0,
      "info_count": 0
    }
  },
  "dynamic_monitoring": {
    "success": true,
    "duration": 60,
    "metrics_count": 10,
    "alerts_count": 5,
    "report": {
      "summary": {
        "monitoring_duration": 60,
        "total_metrics": 10,
        "total_alerts": 5,
        "alert_by_severity": {
          "warning": 5
        },
        "alert_by_type": {
          "memory_high": 5
        },
        "average_metrics": {
          "avg_cpu": 11.92,
          "max_cpu": 16.9,
          "avg_memory": 85.13,
          "max_memory": 86.1,
          "avg_disk": 71.8,
          "max_disk": 71.8
        },
        "monitoring_status": "completed"
      },
      "recommendations": [
        "发现系统异常，建议检查相关指标",
        "内存使用率较高，建议增加内存或优化内存使用"
      ],
      "detailed_metrics": [
        {
          "timestamp": "2025-11-02T20:49:09.649194",
          "system": {
            "cpu": {
              "percent": 14.0,
              "count": 32,
              "frequency": 2200.0,
              "load_average": [
                0.0,
                0.0,
                0.0
              ]
            },
            "memory": {
              "total": 16858472448,
              "available": 2502971392,
              "percent": 85.2,
              "used": 14355501056,
              "free": 2502971392
            },
            "swap": {
              "total": 10200547328,
              "used": 137900032,
              "free": 10062647296,
              "percent": 1.4
            },
            "disk": {
              "total": 1022871203840,
              "used": 734480769024,
              "free": 288390434816,
              "percent": 71.8
            },
            "disk_io": {
              "read_count": 1040102,
              "write_count": 746301,
              "read_bytes": 36616580608,
              "write_bytes": 18439836160
            }
          },
          "performance": {
            "response_time": 0,
            "throughput": 0,
            "error_rate": 0,
            "active_connections": 0,
            "queue_length": 0,
            "cache_hit_rate": 0
          },
          "network": {},
          "processes": {}
        },
        {
          "timestamp": "2025-11-02T20:49:16.477801",
          "system": {
            "cpu": {
              "percent": 11.7,
              "count": 32,
              "frequency": 1466.0,
              "load_average": [
                0.0,
                0.0,
                0.0
              ]
            },
            "memory": {
              "total": 16858472448,
              "available": 2338295808,
              "percent": 86.1,
              "used": 14520176640,
              "free": 2338295808
            },
            "swap": {
              "total": 10200547328,
              "used": 137900032,
              "free": 10062647296,
              "percent": 1.4
            },
            "disk": {
              "total": 1022871203840,
              "used": 734480637952,
              "free": 288390565888,
              "percent": 71.8
            },
            "disk_io": {
              "read_count": 1040106,
              "write_count": 746469,
              "read_bytes": 36616842752,
              "write_bytes": 18441658880
            }
          },
          "performance": {
            "response_time": 0,
            "throughput": 0,
            "error_rate": 0,
            "active_connections": 0,
            "queue_length": 0,
            "cache_hit_rate": 0
          },
          "network": {},
          "processes": {}
        },
        {
          "timestamp": "2025-11-02T20:49:22.495832",
          "system": {
            "cpu": {
              "percent": 10.4,
              "count": 32,
              "frequency": 2200.0,
              "load_average": [
                0.0,
                0.0,
                0.0
              ]
            },
            "memory": {
              "total": 16858472448,
              "available": 2495807488,
              "percent": 85.2,
              "used": 14362664960,
              "free": 2495807488
            },
            "swap": {
              "total": 10200547328,
              "used": 137900032,
              "free": 10062647296,
              "percent": 1.4
            },
            "disk": {
              "total": 1022871203840,
              "used": 734480703488,
              "free": 288390500352,
              "percent": 71.8
            },
            "disk_io": {
              "read_count": 1040109,
              "write_count": 746495,
              "read_bytes": 36616982016,
              "write_bytes": 18441937408
            }
          },
          "performance": {
            "response_time": 0,
            "throughput": 0,
            "error_rate": 0,
            "active_connections": 0,
            "queue_length": 0,
            "cache_hit_rate": 0
          },
          "network": {},
          "processes": {}
        },
        {
          "timestamp": "2025-11-02T20:49:28.518608",
          "system": {
            "cpu": {
              "percent": 12.5,
              "count": 32,
              "frequency": 2200.0,
              "load_average": [
                0.0,
                0.0,
                0.0
              ]
            },
            "memory": {
              "total": 16858472448,
              "available": 2506498048,
              "percent": 85.1,
              "used": 14351974400,
              "free": 2506498048
            },
            "swap": {
              "total": 10200547328,
              "used": 137900032,
              "free": 10062647296,
              "percent": 1.4
            },
            "disk": {
              "total": 1022871203840,
              "used": 734480777216,
              "free": 288390426624,
              "percent": 71.8
            },
            "disk_io": {
              "read_count": 1040112,
              "write_count": 746531,
              "read_bytes": 36617063936,
              "write_bytes": 18442375680
            }
          },
          "performance": {
            "response_time": 0,
            "throughput": 0,
            "error_rate": 0,
            "active_connections": 0,
            "queue_length": 0,
            "cache_hit_rate": 0
          },
          "network": {},
          "processes": {}
        },
        {
          "timestamp": "2025-11-02T20:49:34.495459",
          "system": {
            "cpu": {
              "percent": 10.2,
              "count": 32,
              "frequency": 1466.0,
              "load_average": [
                0.0,
                0.0,
                0.0
              ]
            },
            "memory": {
              "total": 16858472448,
              "available": 2511032320,
              "percent": 85.1,
              "used": 14347440128,
              "free": 2511032320
            },
            "swap": {
              "total": 10200547328,
              "used": 137900032,
              "free": 10062647296,
              "percent": 1.4
            },
            "disk": {
              "total": 1022871203840,
              "used": 734480777216,
              "free": 288390426624,
              "percent": 71.8
            },
            "disk_io": {
              "read_count": 1040114,
              "write_count": 746610,
              "read_bytes": 36617195008,
              "write_bytes": 18443047424
            }
          },
          "performance": {
            "response_time": 0,
            "throughput": 0,
            "error_rate": 0,
            "active_connections": 0,
            "queue_length": 0,
            "cache_hit_rate": 0
          },
          "network": {},
          "processes": {}
        },
        {
          "timestamp": "2025-11-02T20:49:40.521548",
          "system": {
            "cpu": {
              "percent": 10.3,
              "count": 32,
              "frequency": 2200.0,
              "load_average": [
                0.0,
                0.0,
                0.0
              ]
            },
            "memory": {
              "total": 16858472448,
              "available": 2556583936,
              "percent": 84.8,
              "used": 14301888512,
              "free": 2556583936
            },
            "swap": {
              "total": 10200547328,
              "used": 137900032,
              "free": 10062647296,
              "percent": 1.4
            },
            "disk": {
              "total": 1022871203840,
              "used": 734480789504,
              "free": 288390414336,
              "percent": 71.8
            },
            "disk_io": {
              "read_count": 1040118,
              "write_count": 746642,
              "read_bytes": 36617453056,
              "write_bytes": 18443506176
            }
          },
          "performance": {
            "response_time": 0,
            "throughput": 0,
            "error_rate": 0,
            "active_connections": 0,
            "queue_length": 0,
            "cache_hit_rate": 0
          },
          "network": {},
          "processes": {}
        },
        {
          "timestamp": "2025-11-02T20:49:46.549964",
          "system": {
            "cpu": {
              "percent": 10.0,
              "count": 32,
              "frequency": 2200.0,
              "load_average": [
                0.0,
                0.0,
                0.0
              ]
            },
            "memory": {
              "total": 16858472448,
              "available": 2521714688,
              "percent": 85.0,
              "used": 14336757760,
              "free": 2521714688
            },
            "swap": {
              "total": 10200547328,
              "used": 137900032,
              "free": 10062647296,
              "percent": 1.4
            },
            "disk": {
              "total": 1022871203840,
              "used": 734480793600,
              "free": 288390410240,
              "percent": 71.8
            },
            "disk_io": {
              "read_count": 1040119,
              "write_count": 746693,
              "read_bytes": 36617457152,
              "write_bytes": 18443981312
            }
          },
          "performance": {
            "response_time": 0,
            "throughput": 0,
            "error_rate": 0,
            "active_connections": 0,
            "queue_length": 0,
            "cache_hit_rate": 0
          },
          "network": {},
          "processes": {}
        },
        {
          "timestamp": "2025-11-02T20:49:52.557858",
          "system": {
            "cpu": {
              "percent": 11.0,
              "count": 32,
              "frequency": 2200.0,
              "load_average": [
                0.08,
                0.02,
                0.01
              ]
            },
            "memory": {
              "total": 16858472448,
              "available": 2522300416,
              "percent": 85.0,
              "used": 14336172032,
              "free": 2522300416
            },
            "swap": {
              "total": 10200547328,
              "used": 137900032,
              "free": 10062647296,
              "percent": 1.4
            },
            "disk": {
              "total": 1022871203840,
              "used": 734480863232,
              "free": 288390340608,
              "percent": 71.8
            },
            "disk_io": {
              "read_count": 1040121,
              "write_count": 746728,
              "read_bytes": 36617526784,
              "write_bytes": 18444329472
            }
          },
          "performance": {
            "response_time": 0,
            "throughput": 0,
            "error_rate": 0,
            "active_connections": 0,
            "queue_length": 0,
            "cache_hit_rate": 0
          },
          "network": {},
          "processes": {}
        },
        {
          "timestamp": "2025-11-02T20:49:58.560603",
          "system": {
            "cpu": {
              "percent": 12.2,
              "count": 32,
              "frequency": 2200.0,
              "load_average": [
                0.07,
                0.02,
                0.01
              ]
            },
            "memory": {
              "total": 16858472448,
              "available": 2551783424,
              "percent": 84.9,
              "used": 14306689024,
              "free": 2551783424
            },
            "swap": {
              "total": 10200547328,
              "used": 137900032,
              "free": 10062647296,
              "percent": 1.4
            },
            "disk": {
              "total": 1022871203840,
              "used": 734480863232,
              "free": 288390340608,
              "percent": 71.8
            },
            "disk_io": {
              "read_count": 1040128,
              "write_count": 746901,
              "read_bytes": 36617649664,
              "write_bytes": 18445271552
            }
          },
          "performance": {
            "response_time": 0,
            "throughput": 0,
            "error_rate": 0,
            "active_connections": 0,
            "queue_length": 0,
            "cache_hit_rate": 0
          },
          "network": {},
          "processes": {}
        },
        {
          "timestamp": "2025-11-02T20:50:04.554678",
          "system": {
            "cpu": {
              "percent": 16.9,
              "count": 32,
              "frequency": 2200.0,
              "load_average": [
                0.55,
                0.12,
                0.04
              ]
            },
            "memory": {
              "total": 16858472448,
              "available": 2545602560,
              "percent": 84.9,
              "used": 14312869888,
              "free": 2545602560
            },
            "swap": {
              "total": 10200547328,
              "used": 137900032,
              "free": 10062647296,
              "percent": 1.4
            },
            "disk": {
              "total": 1022871203840,
              "used": 734480863232,
              "free": 288390340608,
              "percent": 71.8
            },
            "disk_io": {
              "read_count": 1040128,
              "write_count": 746962,
              "read_bytes": 36617649664,
              "write_bytes": 18446062080
            }
          },
          "performance": {
            "response_time": 0,
            "throughput": 0,
            "error_rate": 0,
            "active_connections": 0,
            "queue_length": 0,
            "cache_hit_rate": 0
          },
          "network": {},
          "processes": {}
        }
      ],
      "recent_alerts": [
        {
          "type": "memory_high",
          "severity": "warning",
          "message": "内存使用率过高: 85.2%",
          "threshold": 85,
          "current_value": 85.2,
          "timestamp": "2025-11-02T20:49:09.649194"
        },
        {
          "type": "memory_high",
          "severity": "warning",
          "message": "内存使用率过高: 86.1%",
          "threshold": 85,
          "current_value": 86.1,
          "timestamp": "2025-11-02T20:49:16.477801"
        },
        {
          "type": "memory_high",
          "severity": "warning",
          "message": "内存使用率过高: 85.2%",
          "threshold": 85,
          "current_value": 85.2,
          "timestamp": "2025-11-02T20:49:22.495832"
        },
        {
          "type": "memory_high",
          "severity": "warning",
          "message": "内存使用率过高: 85.1%",
          "threshold": 85,
          "current_value": 85.1,
          "timestamp": "2025-11-02T20:49:28.518608"
        },
        {
          "type": "memory_high",
          "severity": "warning",
          "message": "内存使用率过高: 85.1%",
          "threshold": 85,
          "current_value": 85.1,
          "timestamp": "2025-11-02T20:49:34.495459"
        }
      ]
    },
    "timestamp": "2025-11-02T20:50:10.545825"
  },
  "runtime_analysis": {
    "main_file": "flask_simple_test\\app.py",
    "execution_successful": false,
    "project_type": "web_application",
    "web_test": {
      "success": false,
      "error": "Web应用启动失败",
      "stdout": "",
      "stderr": "Traceback (most recent call last):\n  File \"<string>\", line 1, in <module>\n  File \"C:\\Users\\Ding\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\importlib\\__init__.py\", line 90, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<frozen importlib._bootstrap>\", line 1381, in _gcd_import\n  File \"<frozen importlib._bootstrap>\", line 1354, in _find_and_load\n  File \"<frozen importlib._bootstrap>\", line 13",
      "return_code": 1
    },
    "dynamic_test_enabled": true
  },
  "dynamic_detection": {
    "status": "completed",
    "is_flask_project": true,
    "enable_web_test": true,
    "test_results": {
      "import_analysis": {
        "status": "success",
        "tests": {
          "import_check": {
            "import_issues": []
          }
        }
      },
      "flask_functionality": {
        "status": "success",
        "tests": {
          "flask_app_app.py": {
            "status": "success",
            "message": "Flask应用 temp_extract\\project_20251102_204909\\flask_simple_test\\app.py 导入成功",
            "app_type": "Flask"
          }
        },
        "summary": {
          "success_rate": 100.0,
          "total_tests": 1,
          "successful_tests": 1
        },
        "flask_info": {
          "flask_installed": true,
          "flask_version": "2.0.0",
          "werkzeug_installed": true,
          "werkzeug_version": "2.0.0"
        }
      },
      "combined_summary": {
        "import_issues": [],
        "flask_success_rate": 100.0
      }
    },
    "issues": [
      {
        "type": "flask_d_class_issue",
        "issue_id": "27",
        "severity": "warning",
        "message": "URL匹配顺序恢复为在session加载之后",
        "details": "Flask 2.0.0中URL匹配顺序在session加载之后，可能导致路由匹配问题",
        "flask_issue": "#4053"
      },
      {
        "type": "flask_d_class_issue",
        "issue_id": "28",
        "severity": "warning",
        "message": "View/MethodView支持async处理器",
        "details": "Flask 2.0.0中View和MethodView对异步处理器的支持存在问题",
        "flask_issue": "#4112"
      },
      {
        "type": "flask_d_class_issue",
        "issue_id": "29",
        "severity": "warning",
        "message": "回调触发顺序：before_request从app到最近的嵌套蓝图",
        "details": "Flask 2.0.0中before_request回调的触发顺序存在问题",
        "flask_issue": "#4229"
      },
      {
        "type": "flask_d_class_issue",
        "issue_id": "30",
        "severity": "info",
        "message": "after_this_request在非请求上下文下的报错信息改进",
        "details": "Flask 2.0.0中after_this_request在非请求上下文下的错误信息不够清晰",
        "flask_issue": "#4333"
      },
      {
        "type": "flask_d_class_issue",
        "issue_id": "31",
        "severity": "warning",
        "message": "嵌套蓝图合并URL前缀（复杂路由验证）",
        "details": "Flask 2.0.0中嵌套蓝图的URL前缀合并存在复杂性问题",
        "flask_issue": "#4037"
      },
      {
        "type": "flask_d_class_issue",
        "issue_id": "32",
        "severity": "warning",
        "message": "嵌套蓝图（复杂命名验证）",
        "details": "Flask 2.0.0中嵌套蓝图的命名验证存在复杂性问题",
        "flask_issue": "#4069"
      }
    ],
    "recommendations": [
      "动态测试表现良好",
      "建议启用Web应用测试以获得更全面的检测",
      "发现6个Flask D类问题，建议检查Flask版本兼容性"
    ],
    "tests_completed": true,
    "success_rate": 100.0
  },
  "summary": {
    "total_files": 9,
    "analysis_completed": true,
    "issues_summary": {
      "static": {
        "analysis_type": "enhanced_static_analysis",
        "files_analyzed": 1,
        "issues_found": 0,
        "total_files": 11,
        "total_lines": 0,
        "average_complexity": 0,
        "maintainability_score": 0,
        "issues_by_severity": {},
        "issues_by_type": {},
        "issues_by_tool": {}
      },
      "dynamic": {
        "monitoring_duration": 60,
        "alerts_generated": 0
      },
      "runtime": {
        "execution_successful": false,
        "main_file": "flask_simple_test\\app.py"
      },
      "dynamic_detection": {
        "status": "completed",
        "is_flask_project": true,
        "tests_completed": true,
        "success_rate": 100.0
      }
    },
    "total_issues": 6,
    "critical_issues": 0,
    "warning_issues": 5,
    "info_issues": 1,
    "overall_status": "warning",
    "recommendations": [
      "发现警告问题，建议及时处理",
      "运行时分析失败，检查项目配置和依赖"
    ]
  }
}