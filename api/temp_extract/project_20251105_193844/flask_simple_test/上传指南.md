# Flask 2.0.0 Bug测试包 - 上传指南

## 📦 包内容说明

本测试包包含以下文件：

### 核心文件
- **app.py** - Flask应用主文件，包含复现32个bug的测试用例
- **flask-2.0.0.zip** - Flask 2.0.0源码压缩包（703KB）
- **requirements.txt** - 依赖版本要求（werkzeug==2.0.0）

### 辅助文件
- **README.md** - 完整使用文档
- **BUG_CHECKLIST.md** - Bug检测清单（覆盖32个已知bug）
- **API_TEST_EXAMPLES.md** - API测试示例
- **使用说明.txt** - 快速参考

### 工具脚本（可选）
- **setup.py** - 本地环境设置（解压并安装Flask 2.0.0）
- **run_test.py** - 本地测试服务器启动脚本
- **bug_test.py** - 本地测试套件
- **create_package.bat** - 重新打包脚本

## 🚀 快速开始

### 方式1：直接上传文件夹（推荐）

1. 将整个 `flask_simple_test` 文件夹打包成zip
2. 通过前端界面上传
3. 前端自动进行静态+动态检测

### 方式2：使用打包脚本

Windows:
```cmd
cd flask_simple_test
create_package.bat
```

Linux/Mac:
```bash
cd flask_simple_test
./create_package.sh
```

然后在父目录找到 `flask_simple_test.zip` 上传

## 📋 测试范围

### 静态检测
测试以下类型的问题：
- ✅ 类型提示问题（g对象、send_file等）
- ✅ API使用不当（send_from_directory参数）
- ✅ 装饰器类型注解问题
- ✅ 蓝图注册和命名问题
- ✅ 蓝图嵌套和URL前缀问题

### 动态检测
测试以下运行时行为：
- ✅ Decimal序列化问题（jsonify）
- ✅ 异步handler支持
- ✅ 回调触发顺序
- ✅ 上下文边界检查
- ✅ 404错误处理

## 🎯 Bug覆盖

根据 `docs/Flask版本选择与Issue策略.md` 文档：

- **简单类型** (8个): Bug #1-8
- **中等类型** (18个): Bug #9-26  
- **困难类型** (6个): Bug #27-32

**总计: 32个已知bug**

## 🔍 检测结果验证

检测完成后，请验证以下方面：

1. **静态检测报告** - 应识别出14+个静态可检测的bug
2. **动态检测报告** - 应识别出6+个运行时bug
3. **AI辅助检测** - 应识别出10+个需要AI辅助判定的bug

## 📊 预期检测能力

| 检测类型 | 应识别数量 | Bug编号 |
|---------|-----------|---------|
| 静态检测 (S) | 14个 | #1, #4-8, #11, #14-17, #19, #22 |
| AI辅助 (A) | 10个 | #9-10, #12-13, #18, #20-21, #23-26 |
| 动态验证 (D) | 6个 | #27-32 |

## ⚠️ 注意事项

1. **版本要求**: Flask 2.0.0 需要 Python 3.7+
2. **依赖冲突**: 必须使用 werkzeug==2.0.0，否则会出现兼容性问题
3. **Flask源码**: flask-2.0.0.zip 包含完整的Flask源码，运行时可能需要解压

## 📞 问题反馈

如检测结果异常，请检查：
- Flask版本是否为 2.0.0
- Werkzeug版本是否为 2.0.0
- Python版本是否为 3.7+
- 是否启用了静态+动态双重检测

## 📚 参考文档

- [Flask版本选择与Issue策略](../docs/Flask版本选择与Issue策略.md)
- [Bug检测清单](BUG_CHECKLIST.md)
- [API测试示例](API_TEST_EXAMPLES.md)



